# æ•°æ®åˆ†æžæ¨¡å—ä½¿ç”¨è¯´æ˜Ž

## æ¦‚è¿°

æ•°æ®åˆ†æžæ¨¡å—ä¸ºè‡ªä¹ å®¤ç®¡ç†ç³»ç»Ÿæä¾›äº†ä¸°å¯Œçš„ç»Ÿè®¡å’Œå¯è§†åŒ–åŠŸèƒ½ï¼Œå¸®åŠ©ç®¡ç†å‘˜äº†è§£ç³»ç»Ÿä½¿ç”¨æƒ…å†µï¼Œåšå‡ºæ•°æ®é©±åŠ¨çš„å†³ç­–ã€‚

## åŠŸèƒ½ç‰¹æ€§

### 1. ç»Ÿè®¡æ¦‚è§ˆå¡ç‰‡
- **æ€»ç”¨æˆ·æ•°**: æ˜¾ç¤ºç³»ç»Ÿæ³¨å†Œç”¨æˆ·æ€»æ•°
- **åº§ä½æ€»æ•°**: æ˜¾ç¤ºè‡ªä¹ å®¤å¯ç”¨åº§ä½æ€»æ•°
- **æ€»é¢„çº¦æ•°**: æ˜¾ç¤ºåŽ†å²é¢„çº¦è®°å½•æ€»æ•°
- **å½“å‰æ´»è·ƒé¢„çº¦**: æ˜¾ç¤ºå½“å‰æœ‰æ•ˆçš„é¢„çº¦æ•°é‡

### 2. å›¾è¡¨åˆ†æž

#### 2.1 é¢„çº¦è¶‹åŠ¿æŠ˜çº¿å›¾ ðŸ“ˆ
- **åŠŸèƒ½**: å±•ç¤ºæœ€è¿‘7å¤©çš„æ¯æ—¥é¢„çº¦æ•°é‡å˜åŒ–è¶‹åŠ¿
- **å›¾è¡¨ç±»åž‹**: æŠ˜çº¿å›¾
- **æ•°æ®æ¥æº**: `reservation` è¡¨æŒ‰æ—¥æœŸåˆ†ç»„ç»Ÿè®¡
- **ç”¨é€”**: 
  - äº†è§£å­¦ç”Ÿé¢„çº¦ä¹ æƒ¯çš„æ—¶é—´è§„å¾‹
  - è¯†åˆ«é«˜å³°æœŸå’Œä½Žè°·æœŸ
  - ä¸ºåº§ä½åˆ†é…ç­–ç•¥æä¾›æ•°æ®æ”¯æŒ

#### 2.2 åº§ä½ä½¿ç”¨çŽ‡ç»Ÿè®¡å›¾ ðŸ“Š
- **åŠŸèƒ½**: å±•ç¤ºå„ä¸ªåº§ä½çš„åŽ†å²ä½¿ç”¨é¢‘æ¬¡
- **å›¾è¡¨ç±»åž‹**: å½©è‰²æŸ±çŠ¶å›¾
- **æ•°æ®æ¥æº**: `reservation` è¡¨æŒ‰åº§ä½åˆ†ç»„ç»Ÿè®¡
- **ç”¨é€”**:
  - è¯†åˆ«æœ€å—æ¬¢è¿Žå’Œæœ€å°‘ä½¿ç”¨çš„åº§ä½
  - ä¼˜åŒ–åº§ä½å¸ƒå±€å’Œèµ„æºé…ç½®
  - åº§ä½ç»´æŠ¤è®¡åˆ’åˆ¶å®š

#### 2.3 ç”¨æˆ·æ´»è·ƒåº¦æŽ’è¡Œå›¾ ðŸ‘¥
- **åŠŸèƒ½**: å±•ç¤ºé¢„çº¦æ¬¡æ•°æœ€å¤šçš„å‰10åç”¨æˆ·
- **å›¾è¡¨ç±»åž‹**: æ°´å¹³æŸ±çŠ¶å›¾
- **æ•°æ®æ¥æº**: `reservation` è¡¨æŒ‰ç”¨æˆ·åˆ†ç»„ç»Ÿè®¡
- **ç”¨é€”**:
  - è¯†åˆ«æ´»è·ƒç”¨æˆ·
  - äº†è§£ç”¨æˆ·ä½¿ç”¨æ¨¡å¼
  - åˆ¶å®šç”¨æˆ·æ¿€åŠ±æ”¿ç­–

#### 2.4 24å°æ—¶æ—¶é—´æ®µä½¿ç”¨åˆ†æžå›¾ â°
- **åŠŸèƒ½**: å±•ç¤ºä¸€å¤©ä¸­å„ä¸ªå°æ—¶æ®µçš„é¢„çº¦åˆ†å¸ƒ
- **å›¾è¡¨ç±»åž‹**: æŠ˜çº¿å›¾
- **æ•°æ®æ¥æº**: `reservation` è¡¨æŒ‰å°æ—¶åˆ†ç»„ç»Ÿè®¡
- **ç”¨é€”**:
  - äº†è§£å­¦ç”Ÿå­¦ä¹ æ—¶é—´åå¥½
  - ä¼˜åŒ–å¼€æ”¾æ—¶é—´å®‰æŽ’
  - åˆç†é…ç½®æ—¶æ®µèµ„æº

## è®¿é—®æ–¹å¼

1. **ç®¡ç†å‘˜ç™»å½•**: ä½¿ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•ç³»ç»Ÿ
2. **è¿›å…¥ç®¡ç†åŽå°**: ç‚¹å‡»å¯¼èˆªæ çš„"ç®¡ç†åŽå°"
3. **é€‰æ‹©æ•°æ®åˆ†æž**: åœ¨ç®¡ç†åŽå°é¡µé¢ç‚¹å‡»"æ•°æ®åˆ†æž"æ¨¡å—

## æŠ€æœ¯å®žçŽ°

### åŽç«¯æŽ¥å£
- `GET /admin/analytics` - æ•°æ®åˆ†æžä¸»é¡µé¢
- `GET /admin/analytics/reservation-trend` - é¢„çº¦è¶‹åŠ¿æ•°æ®API
- `GET /admin/analytics/seat-usage` - åº§ä½ä½¿ç”¨çŽ‡æ•°æ®API
- `GET /admin/analytics/user-activity` - ç”¨æˆ·æ´»è·ƒåº¦æ•°æ®API
- `GET /admin/analytics/hourly-usage` - æ—¶é—´æ®µä½¿ç”¨æ•°æ®API

### å‰ç«¯æŠ€æœ¯
- **Chart.js**: ç”¨äºŽå›¾è¡¨æ¸²æŸ“å’Œäº¤äº’
- **Bootstrap 5**: å“åº”å¼å¸ƒå±€å’Œæ ·å¼
- **Font Awesome**: å›¾æ ‡æ˜¾ç¤º
- **JavaScript Fetch API**: å¼‚æ­¥æ•°æ®èŽ·å–

### æ•°æ®åº“æŸ¥è¯¢
```sql
-- é¢„çº¦è¶‹åŠ¿æŸ¥è¯¢
SELECT DATE(r.startTime), COUNT(r) 
FROM Reservation r 
WHERE r.startTime >= :startTime AND r.startTime <= :endTime 
GROUP BY DATE(r.startTime)

-- åº§ä½ä½¿ç”¨çŽ‡æŸ¥è¯¢
SELECT s.seatNumber, COUNT(r) 
FROM Reservation r JOIN r.seat s 
GROUP BY s.seatNumber 
ORDER BY COUNT(r) DESC

-- ç”¨æˆ·æ´»è·ƒåº¦æŸ¥è¯¢
SELECT u.fullName, COUNT(r) 
FROM Reservation r JOIN r.user u 
GROUP BY u.fullName 
ORDER BY COUNT(r) DESC

-- æ—¶é—´æ®µä½¿ç”¨æŸ¥è¯¢
SELECT HOUR(r.startTime), COUNT(r) 
FROM Reservation r 
GROUP BY HOUR(r.startTime)
```

## æ•°æ®å‡†å¤‡

ä¸ºäº†èŽ·å¾—æ›´å¥½çš„å¯è§†åŒ–æ•ˆæžœï¼Œå»ºè®®æ‰§è¡Œ `database-sample-data.sql` è„šæœ¬æ¥æ·»åŠ ç¤ºä¾‹æ•°æ®ï¼š

```bash
mysql -u root -p study_room_db < database-sample-data.sql
```

## ä½¿ç”¨å»ºè®®

1. **å®šæœŸæŸ¥çœ‹**: å»ºè®®ç®¡ç†å‘˜æ¯å‘¨æŸ¥çœ‹æ•°æ®åˆ†æžæŠ¥å‘Š
2. **ç»“åˆå®žé™…**: å°†æ•°æ®åˆ†æžç»“æžœä¸Žå®žé™…ç®¡ç†ç»éªŒç›¸ç»“åˆ
3. **æŒç»­ä¼˜åŒ–**: æ ¹æ®æ•°æ®è¶‹åŠ¿è°ƒæ•´ç®¡ç†ç­–ç•¥å’Œèµ„æºé…ç½®
4. **æ•°æ®å½’æ¡£**: å®šæœŸå¤‡ä»½é‡è¦çš„ç»Ÿè®¡æ•°æ®

## æ‰©å±•åŠŸèƒ½

æœªæ¥å¯ä»¥è€ƒè™‘æ·»åŠ ä»¥ä¸‹åŠŸèƒ½ï¼š
- æœˆåº¦å’Œå¹´åº¦æ•°æ®æŠ¥è¡¨
- æ•°æ®å¯¼å‡ºåŠŸèƒ½ï¼ˆPDF/Excelï¼‰
- é¢„çº¦å–æ¶ˆçŽ‡åˆ†æž
- ç”¨æˆ·æ»¡æ„åº¦ç»Ÿè®¡
- å®žæ—¶æ•°æ®ç›‘æŽ§ä»ªè¡¨æ¿

## æ•…éšœæŽ’é™¤

### å›¾è¡¨ä¸æ˜¾ç¤º
1. æ£€æŸ¥ç½‘ç»œè¿žæŽ¥æ˜¯å¦æ­£å¸¸
2. ç¡®è®¤Chart.js CDNé“¾æŽ¥å¯è®¿é—®
3. æŸ¥çœ‹æµè§ˆå™¨æŽ§åˆ¶å°æ˜¯å¦æœ‰JavaScripté”™è¯¯

### æ•°æ®ä¸å‡†ç¡®
1. ç¡®è®¤æ•°æ®åº“ä¸­æœ‰è¶³å¤Ÿçš„åŽ†å²æ•°æ®
2. æ£€æŸ¥ç³»ç»Ÿæ—¶é—´è®¾ç½®æ˜¯å¦æ­£ç¡®
3. éªŒè¯æ•°æ®åº“æŸ¥è¯¢è¯­å¥çš„æ­£ç¡®æ€§ 